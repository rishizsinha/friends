<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Friends</title>

    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css">
    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <link rel="stylesheet" href="stylesheets/friends.css">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>

  <body>

    <nav class="navbar navbar-inverse" role="navigation">
      <div class="container">

        <div class="navbar-header">
          <!-- Navigation Button -->
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="sr-only"> Toggle Navigation </span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand">
            <img src="images/friendslogoxs.png" class="logo" />
          </a>
        </div>

        <div class="collapse navbar-collapse" id="navlinks">
          <ul class="nav navbar-nav">
            <li><a href="index.html">Quote Generator</a></li>
            <li><a href="index.html">Best Quotes</a></li>
            <li><a href="index.html">Test Yourself!</a></li>
          </ul>
        </div>
        <!-- /.navbar-collapse -->  
      </div>
       <!-- /.container -->
    </nav> 

    <div class="wrapper">

      <h1> Friends Quote Generator! </h1>

      <h2> Choose a Character! <h2>
      <div class="row">
        <div class="circular col-xs-2" id="rachel"> </div>
        <div class="circular col-xs-2" id="chandler"> </div>
        <div class="circular col-xs-2" id="monica"> </div>
        <div class="circular col-xs-2" id="joey"> </div>
        <div class="circular col-xs-2" id="phoebe"> </div>
        <div class="circular col-xs-2" id="ross"> </div>
      </div>


      <div id="genButtonDiv">
        <p>Or...</p>
        <button id="quoteButton">Any Quote!</button>
        <div class="divider"></div>
        <button id="sceneButton">Any Scene!</button>
      </div>

      <div id="quoteDisplay">

      </div>

      <div>
        <p>This project is maintained by <a href="https://github.com/rishizsinha">rishizsinha</a></p>
        <p><small>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></small></p>
      </div>

    </div>
    <script>

      function randomQuote() {
        $.getJSON("http://rishizsinha.github.io/friends/data/quotedb.json", function(data) {
          var entry;
          entry = data[Math.floor(Math.random()*data.length)];
          return entry;
        });
      };

      function quoteDisplay(q) {
        $("#quoteDisplay").html("<i>"+q.quote+"</i></br></br>~"+q.character+"</br>("+q.episode+")");
      }; 

      function charQuote(c) {
        var entry;
        while (entry.character != c) {
          entry = randomQuote();
        }
        quoteDisplay(entry);
      }

      $('#quoteButton').click(function() {
        var entry;
        entry = randomQuote();
        quoteDisplay(entry);
      });

      $('#sceneButton').click(function() {
        $.getJSON("http://rishizsinha.github.io/friends/data/scenedb.json", function(data) {
          var entry = data[Math.floor(Math.random()*data.length)];
          console.log(entry);
          $("#quoteDisplay").html("<b>"+entry.setting+"</b></br></br><b>{"+entry.characters+
            "}</b></br></br><i>"+entry.dialogue.replace("\n","<\\br>")+"</i></br></br>("+
            entry.episode+")");
        });
      });

      $('#rachel').click(function() {
        charQuote("Rachel");
      });

      $('#chandler').click(function() {
        charQuote("Chandler")
      });

      $('#monica').click(function() {
        charQuote("Monica")
      });

      $('#phoebe').click(function() {
        charQuote("Phoebe")
      });

      $('#joey').click(function() {
        charQuote("Joey")
      });

      $('#ross').click(function() {
        charQuote("Ross")
      });
    </script>
    <script src="javascripts/scale.fix.js"></script>
    
  </body>
</html>